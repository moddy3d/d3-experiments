<html>
    <head>
        <link href="../static/css/style.css" rel="stylesheet">
    </head>

    <body>
        <div class="container">
            <a href='../'>back</a>
            <div class='date'>tues feb 10 2015</div>
            <h1 class='title'>loaders</h1>
            <div class='lead'>a series of loaders expressed via d3</div>
            
            <script src="../static/js/d3.min.js"></script>
            <script>
                
                // parameters

                var width = 960,
                    height = 480,
                    progress = 0,
                    margin = 50,
                    spacing = {x: 250, y: 50};

                // enter

                var color = d3.interpolateRgb("#FFFF00", "#85AEEE");

                var svg = d3.select("body > .container")
                    .append("svg")
                        .attr("width", width)
                        .attr("height", height);

                svg.append("g")
                    .data([progress])
                        .classed("loader", true)
                        .attr("id", "standard")
                        .attr("transform", "translate(" + margin + "," + margin + ")")
                    .append("rect")
                        .attr("width", function (d) { return d * 200 })
                        .attr("height", 4);

                // update

                setInterval(update, 5);

                function update() {
                    progress += 0.005;
                    if (progress >= 1.0)
                        progress = 0;

                    svg.select("#standard")
                        .data([progress])
                        .select("rect")
                            .style("fill", function (d) { return color(d) })
                            .attr("width", function (d) { return d * 200 });
                };
            </script>
        </div>
    </body>

</html>
